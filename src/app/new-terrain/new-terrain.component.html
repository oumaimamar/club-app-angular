<div class="p-5"></div>

<div class="container">
  <mat-card class="terrain-card">
    <mat-card-header>
      <mat-card-title class="title">New Terrain</mat-card-title>
      <mat-card-subtitle class="subtitle">Fill in the details to create a new terrain</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="terrainFormGroup" fxLayout="column" fxLayoutGap="16px">

        <!-- Club ID Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Club ID</mat-label>
          <input matInput formControlName="clubId">
          <mat-icon matPrefix>location_city</mat-icon>
        </mat-form-field>

        <!-- Name Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name">
          <mat-icon matPrefix>edit</mat-icon>
        </mat-form-field>

        <!-- Type Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Type</mat-label>
          <mat-select formControlName="type">
            @for(t of terrainTypes; track t){
              <mat-option [value]="t">{{t}}</mat-option>
            }
          </mat-select>
          <mat-icon matPrefix>sports_soccer</mat-icon>
        </mat-form-field>

        <!-- Status Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Status</mat-label>
          <mat-select formControlName="status">
            @for(s of terrainStatus; track s){
              <mat-option [value]="s">{{s}}</mat-option>
            }
          </mat-select>
          <mat-icon matPrefix>info</mat-icon>
        </mat-form-field>

        <!-- Number of People Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Number of People</mat-label>
          <input matInput type="number" formControlName="nbPersons" min="1">
          <mat-icon matPrefix>people</mat-icon>
          <mat-error *ngIf="terrainFormGroup.get('nbPersons')?.hasError('min')">
            Number must be greater than 0
          </mat-error>
        </mat-form-field>

        <!-- Button Container -->
        <div class="button-container">
          <button (click)="saveTerrain()" mat-raised-button color="primary" class="save-button">
            Save Terrain
          </button>
          @if (showProgress){
            <mat-spinner diameter="24"></mat-spinner>
          }
        </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>
